{"version":3,"sources":["audio/ai.wav","audio/draw.wav","audio/player.wav","audio/ai_win.wav","audio/not_allowed.wav","cell.jsx","board.jsx","App.js","index.js"],"names":["module","exports","Cell","this","props","val","index","className","data-cell","onClick","nextMove","Component","sleep","delay","Promise","resolve","setTimeout","Board","state","board","game_state","first_move","sound_on","SoundPlay","src","sound","Howl","play","playFirstMove","a","Math","floor","random","setState","aiMove","game_over","undefined","every","v","minimax","depth","isComputerTurn","score","move","Infinity","bestMove","bestScore","i","obj","player_move","notAllowed","playerMove","draw","new_game_state","aiWin","restart","toggleSound","id","map","key","data-winning-message-text","App","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b58a9e7b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ai.ec9349f9.wav\";","module.exports = __webpack_public_path__ + \"static/media/draw.e8599398.wav\";","module.exports = __webpack_public_path__ + \"static/media/player.e26ffcc2.wav\";","module.exports = __webpack_public_path__ + \"static/media/ai_win.25c6bdf9.wav\";","module.exports = __webpack_public_path__ + \"static/media/not_allowed.2d56637c.wav\";","import React, { Component } from \"react\";\nimport \"./styles.css\";\n\nclass Cell extends Component {\n  render() {\n    const { val, index } = this.props;\n    return (\n      <>\n        <div\n          className={\"cell \" + (val === \"\" ? \"\" : val === \"X\" ? \"x\" : \"circle\")}\n          data-cell\n          onClick={() => this.props.nextMove(index)}\n        ></div>\n      </>\n    );\n  }\n}\n\nexport default Cell;\n","import React, { Component } from \"react\";\n// import { Route, Switch } from \"react-router-dom\";\nimport { Howl } from \"howler\";\nimport Cell from \"./cell\";\nimport \"./styles.css\";\nimport aiMove from \"./audio/ai.wav\";\nimport playerMove from \"./audio/player.wav\";\nimport aiWin from \"./audio/ai_win.wav\";\nimport draw from \"./audio/draw.wav\";\nimport notAllowed from \"./audio/not_allowed.wav\";\n\nconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\n\nclass Board extends Component {\n  state = {\n    board: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n    game_state: \"running\",\n    first_move: false,\n    sound_on: true\n  };\n\n  SoundPlay = (src) => {\n    const sound = new Howl({ src });\n    if (this.state.sound_on) sound.play();\n  };\n\n  playFirstMove = async () => {\n    await sleep(1000);\n\n    // Computer plays first random move\n    let board = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n    const first_move = this.state.first_move;\n    if (first_move) board[Math.floor(Math.random() * 9)] = \"O\";\n    this.setState(\n      {\n        board: board,\n        game_state: \"running\",\n        first_move: !first_move\n      },\n      () => {\n        if (first_move) this.SoundPlay(aiMove);\n      }\n    );\n  };\n\n  componentDidMount() {\n    this.playFirstMove();\n  }\n\n  game_over = (board = undefined) => {\n    if (board === undefined) board = this.state.board;\n\n    // top-row\n    if (board[0] === board[1] && board[1] === board[2]) {\n      // console.log(\"top-row\");\n      if (board[0] === \"X\") return -1;\n      if (board[0] === \"O\") return +1;\n    }\n\n    // mid-row\n    if (board[3] === board[4] && board[4] === board[5]) {\n      // console.log(\"mid-row\");\n      if (board[3] === \"X\") return -1;\n      if (board[3] === \"O\") return +1;\n    }\n\n    // last-row\n    if (board[6] === board[7] && board[7] === board[8]) {\n      // console.log(\"last-row\");\n      if (board[6] === \"X\") return -1;\n      if (board[6] === \"O\") return +1;\n    }\n\n    // left-col\n    if (board[0] === board[3] && board[3] === board[6]) {\n      // console.log(\"left-col\");\n      if (board[0] === \"X\") return -1;\n      if (board[0] === \"O\") return +1;\n    }\n\n    // mid-col\n    if (board[1] === board[4] && board[4] === board[7]) {\n      // console.log(\"mid-col\");\n      if (board[1] === \"X\") return -1;\n      if (board[1] === \"O\") return +1;\n    }\n\n    // right-col\n    if (board[2] === board[5] && board[5] === board[8]) {\n      // console.log(\"right-col\");\n      if (board[2] === \"X\") return -1;\n      if (board[2] === \"O\") return +1;\n    }\n\n    // main-diagonal\n    if (board[0] === board[4] && board[4] === board[8]) {\n      // console.log(\"main-diagonal\");\n      if (board[0] === \"X\") return -1;\n      if (board[0] === \"O\") return +1;\n    }\n\n    // secondary-diagonal\n    if (board[2] === board[4] && board[4] === board[6]) {\n      // console.log(\"secondary-diagonal\");\n      if (board[2] === \"X\") return -1;\n      if (board[2] === \"O\") return +1;\n    }\n\n    if (board.every((v) => v === \"O\" || v === \"X\")) {\n      return \"draw\";\n    }\n\n    return \"running\";\n  };\n\n  minimax = (board, depth, isComputerTurn) => {\n    let score = this.game_over(board);\n    if (score === +1) return { move: -1, score: +1 };\n    if (score === -1) return { move: -1, score: -1 };\n    if (score === \"draw\") return { move: -1, score: 0 };\n    // return { move: -1, score: isComputerTurn ? -Infinity : +Infinity };\n    if (depth === 0)\n      return { move: undefined, score: isComputerTurn ? -Infinity : +Infinity };\n\n    let bestMove = undefined;\n    let bestScore = isComputerTurn ? -Infinity : +Infinity;\n\n    for (let i = 0; i < 9; i++) {\n      if (isComputerTurn) {\n        // computer's turn\n        if (board[i] === \"\") {\n          board[i] = \"O\";\n          let obj = this.minimax(board, depth - 1, false);\n          board[i] = \"\";\n\n          if (obj.score > bestScore) {\n            bestScore = obj.score;\n            bestMove = i;\n          }\n        }\n      } else {\n        // player's turn\n        if (board[i] === \"\") {\n          board[i] = \"X\";\n          let obj = this.minimax(board, depth - 1, true);\n          board[i] = \"\";\n\n          if (obj.score < bestScore) {\n            bestScore = obj.score;\n            bestMove = i;\n          }\n        }\n      }\n    }\n\n    return { move: bestMove, score: bestScore };\n  };\n\n  nextMove = async (player_move) => {\n    let board = this.state.board;\n\n    // player is trying to mark non-empty cell OR game is Over\n    if (\n      board[player_move] !== \"\" ||\n      this.state.game_state !== \"running\" ||\n      this.state.game_state === \"computing\"\n    ) {\n      // display error message\n      this.SoundPlay(notAllowed);\n      return;\n    }\n\n    // marking player's move\n    board[player_move] = \"X\";\n    this.setState(\n      {\n        board: board,\n        game_state: \"computing\"\n      },\n      () => this.SoundPlay(playerMove)\n    );\n\n    let game_state = this.game_over();\n\n    // player wins\n    if (game_state === -1) {\n      this.setState({\n        game_state: \"player wins\"\n      });\n      return;\n    }\n\n    // game goes draw\n    if (game_state === \"draw\") {\n      this.setState(\n        {\n          game_state: \"draw\"\n        },\n        () => this.SoundPlay(draw)\n      );\n      return;\n    }\n\n    await sleep(500);\n\n    let obj = this.minimax(board, 9, true);\n\n    // no optimal move is found\n    if (obj.move === undefined) {\n      for (let i = 0; i < 9; i++) {\n        if (board[i] === \"\") {\n          board[i] = \"O\";\n          break;\n        }\n      }\n    } else {\n      board[obj.move] = \"O\";\n    }\n    this.SoundPlay(aiMove);\n\n    this.setState({\n      board: board\n    });\n\n    let new_game_state = this.game_over();\n\n    this.setState(\n      {\n        game_state:\n          new_game_state === +1\n            ? \"computer wins\"\n            : new_game_state === \"draw\"\n            ? \"draw\"\n            : \"running\"\n      },\n      () => {\n        if (this.state.game_state === \"computer wins\") this.SoundPlay(aiWin);\n        if (this.state.game_state === \"draw\") this.SoundPlay(draw);\n      }\n    );\n\n    return;\n  };\n\n  restart = () => {\n    this.playFirstMove();\n  };\n\n  toggleSound = () => {\n    this.setState({\n      sound_on: !this.state.sound_on\n    });\n  };\n\n  render() {\n    return (\n      <>\n        {/* GAME BOARD */}\n        <div className=\"board x\" id=\"board\">\n          {this.state.board.map((val, index) => {\n            return (\n              <Cell\n                key={index}\n                val={val}\n                index={index}\n                nextMove={this.nextMove}\n              />\n            );\n          })}\n        </div>\n\n        {/* SOUND BUTTON */}\n        <div className=\"sound-div\" onClick={this.toggleSound}>\n          <div className=\"icon\">\n            <i\n              className={\n                \"fas \" +\n                (this.state.sound_on ? \"fa-volume-up\" : \"fa-volume-mute\")\n              }\n            ></i>\n          </div>\n        </div>\n\n        {/* DEVELOPER BUTTON */}\n        <div className=\"developer-route-div\">\n          <div className=\"developer-button\">\n            <div className=\"icon\">\n              <i className=\"fas fa-code\"></i>\n            </div>\n            <span>Developer</span>\n          </div>\n        </div>\n\n        {/* WINNING MESSAGE */}\n        <div\n          className={\n            \"winning-message \" +\n            (this.state.game_state !== \"running\" &&\n            this.state.game_state !== \"computing\"\n              ? \"show\"\n              : \"\")\n          }\n          id=\"winningMessage\"\n        >\n          <div data-winning-message-text>\n            {this.state.game_state === \"draw\" && <p>DRAW</p>}\n            {this.state.game_state === \"player wins\" && <p>PLAYER WINS</p>}\n            {this.state.game_state === \"computer wins\" && <p>AI WINS</p>}\n          </div>\n\n          <button className=\"ripple\" id=\"restartButton\" onClick={this.restart}>\n            Restart\n          </button>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Board;\n","import React from \"react\";\n// import { Route, Switch } from \"react-router-dom\";\nimport Board from \"./board\";\n// import Developer from \"./Developer\";\nimport \"./styles.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Board />\n      {/* <Developer /> */}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter as Router } from \"react-router-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}